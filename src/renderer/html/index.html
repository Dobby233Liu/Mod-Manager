<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Doki Doki Mod Manager</title>

    <link href="../../../node_modules/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/app.css">

    <link rel="prefetch" href="../images/ddmm.png" as="image">
    <link rel="prefetch" href="../images/sayonika_full_body_maintenance.png" as="image">
</head>
<body>

<div id="app">
    <ddmm-running-cover :display="running_cover.display" :dismissable="running_cover.dismissable"
                        :title="running_cover.title"
                        :description="running_cover.description"
                        @dismissed="running_cover.display = false">
    </ddmm-running-cover>

    <ddmm-modal :title="_('changelog.modal_title')" :visible="modals.changelog" :buttons="[{'clazz': 'primary', 'id': 'close', 'text': 'close'}]" @button="modals.changelog = false">
        <div v-for="entry in changelog">
            <h3>{{entry.name}}</h3>
            <div v-if="entry.details">
                <!--suppress JSDeprecatedSymbols (webstorm is drunk) -->
                <p>{{entry.details.summary}}</p>

                <br>

                <div v-if="entry.details.new">
                    <h4>{{_("changelog.section_new")}}</h4>
                    <ul>
                        <li v-for="item in entry.details.new">{{item}}</li>
                    </ul>
                </div>

                <div v-if="entry.details.bugs">
                    <h4>{{_("changelog.section_bugs")}}</h4>
                    <ul>
                        <li v-for="item in entry.details.bugs">{{item}}</li>
                    </ul>
                </div>

                <div v-if="entry.details.removed">
                    <h4>{{_("changelog.section_removed")}}</h4>
                    <ul>
                        <li v-for="item in entry.details.removed">{{item}}</li>
                    </ul>
                </div>
            </div>
        </div>
    </ddmm-modal>

    <div class="container">
        <div class="navbar">
            <span v-for="(t, id) in tabs" @click="switchTab(id)">
                <ddmm-nav-button :icon="t.icon" :active="tab === id">{{t.name}}</ddmm-nav-button>
            </span>
        </div>
        <div class="content">
            <component
                    v-bind:is="tabs[tab].component"
                    :ddmm_version="ddmm_version"
                    :mod_list="mod_list"
                    :install_list="install_list"
                    @show_modal="showModal"
            >
            </component>
        </div>
    </div>
</div>


<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-database.js"></script>
<script>
    // Initialize Firebase
    const config = {
        apiKey: "AIzaSyDInikDCCVFIhpAMPEBaaRmx_p2ZLX-6GY",
        authDomain: "doki-doki-mod-manager.firebaseapp.com",
        databaseURL: "https://doki-doki-mod-manager.firebaseio.com",
        projectId: "doki-doki-mod-manager",
        storageBucket: "doki-doki-mod-manager.appspot.com",
        messagingSenderId: "324232265869"
    };
    firebase.initializeApp(config);
</script>

<script src="../../../node_modules/vue/dist/vue.js"></script>

<script src="../js/components/NavButton.js"></script>
<script src="../js/components/HomeTab.js"></script>
<script src="../js/components/ModsTab.js"></script>
<script src="../js/components/SayonikaTab.js"></script>
<script src="../js/components/AboutTab.js"></script>
<script src="../js/components/RunningCover.js"></script>
<script src="../js/components/DropTarget.js"></script>
<script src="../js/components/Modal.js"></script>

<script src="../js/app.js"></script>
</body>
</html>